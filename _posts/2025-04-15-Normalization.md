---
layout: single
title: "정규화"
date: 2025-04-15 17:38
categories: DB
tags: [Database, 정규화, Normalization, SQL]
toc: true
author_profile: false
sidebar:
  nav: "docs"
---

## 1. 정규화의 의미 (정의)

**정규화(Normalization)**란
**데이터베이스 설계에서 중복을 줄이고, 데이터 간의 논리적 관계를 명확히 하기 위해 테이블을 분해하는 과정**을 말합니다.

- 테이블을 **함수 종속성**에 따라 잘게 나누는 작업
- 데이터의 **일관성**과 **무결성**을 유지하기 위한 이론적 방법

> 한마디로, "더 나은 구조의 테이블로 쪼개기"!

## 2. 정규화의 목적

1. **데이터 중복 최소화**

   - 같은 데이터를 여러 군데 저장하지 않도록 해서 저장 공간을 절약하고, 데이터 일관성을 유지

2. **삽입 이상(Insert Anomaly) 방지**

   - 데이터를 일부만 넣으려고 할 때 생기는 오류 방지 (예: 부서 이름이 없으면 직원을 못 넣는 상황)

3. **삭제 이상(Delete Anomaly) 방지**

   - 한 데이터를 지웠을 때 연관된 중요한 정보까지 같이 사라지는 문제 방지

4. **갱신 이상(Update Anomaly) 방지**

   - 한 값을 수정할 때 여러 군데를 일일이 바꿔야 하는 문제 방지

5. **데이터 무결성 보장**

   - 논리적으로 정리된 구조 덕분에 데이터 오류 발생 가능성 감소

6. **유지보수 용이**
   - 변경이 발생해도 수정할 부분이 명확해서 관리가 쉬움

## 3. 정규화 단계별 설명

### 1. 1정규형 (1NF)

- 원칙: 한 칸에는 하나의 값만 있어야 한다.

**정규화 전 테이블**

| 학생ID | 이름   | 연락처                     |
| ------ | ------ | -------------------------- |
| 1      | 홍길동 | 010-1234-5678, 02-123-4567 |

**정규화 후 테이블**

| 학생ID | 이름   | 연락처        |
| ------ | ------ | ------------- |
| 1      | 홍길동 | 010-1234-5678 |
| 1      | 홍길동 | 02-123-4567   |

### 2. 2정규형 (2NF)

- 원칙: 기본키의 일부분에만 의존하는 속성 제거

**정규화 전 테이블**

| 학생ID | 수업명 | 교수이름 |
| ------ | ------ | -------- |
| 1      | 수학   | 김교수   |
| 1      | 영어   | 이교수   |

**정규화 후 테이블**

- 수강정보 테이블:

| 학생ID | 수업명 |
| ------ | ------ |
| 1      | 수학   |
| 1      | 영어   |

- 과목정보 테이블:

| 수업명 | 교수이름 |
| ------ | -------- |
| 수학   | 김교수   |
| 영어   | 이교수   |

### 3. 3정규형 (3NF)

- 원칙: 기본키 외의 다른 컬럼에 의존하는 속성 제거

**정규화 전 테이블**

| 직원ID | 부서ID | 부서이름 |
| ------ | ------ | -------- |
| 101    | D1     | 회계팀   |
| 102    | D2     | 개발팀   |

**정규화 후 테이블**

- 직원 테이블:

| 직원ID | 부서ID |
| ------ | ------ |
| 101    | D1     |
| 102    | D2     |

- 부서 테이블:

| 부서ID | 부서이름 |
| ------ | -------- |
| D1     | 회계팀   |
| D2     | 개발팀   |

### 4. BCNF (보이스-코드 정규형)

- 원칙: 모든 결정자가 후보키여야 함

**정규화 전 테이블**

| 교수이름 | 수업명   | 강의실 |
| -------- | -------- | ------ |
| 김교수   | DB       | A101   |
| 김교수   | 자료구조 | A101   |

→ 교수이름 → 강의실, 교수이름은 후보키 아님 → BCNF 위반

**정규화 후 테이블**

- 수업 테이블:

| 수업명   | 교수이름 |
| -------- | -------- |
| DB       | 김교수   |
| 자료구조 | 김교수   |

- 교수 테이블:

| 교수이름 | 강의실 |
| -------- | ------ |
| 김교수   | A101   |

### 5. 4정규형 (4NF)

- 원칙: 다치 종속 제거 (한 테이블에서 여러 독립된 반복 그룹 제거)

**정규화 전 테이블**

| 학생ID | 수업명 | 동아리 |
| ------ | ------ | ------ |
| 1      | 수학   | 합창부 |
| 1      | 영어   | 미술부 |

**정규화 후 테이블**

- 학생-수업 테이블:

| 학생ID | 수업명 |
| ------ | ------ |
| 1      | 수학   |
| 1      | 영어   |

- 학생-동아리 테이블:

| 학생ID | 동아리 |
| ------ | ------ |
| 1      | 합창부 |
| 1      | 미술부 |

### 6. 5정규형 (5NF)

- 원칙: 조인을 통해서만 드러나는 중복 제거 (조인 종속 제거)
- 예시: 상품, 공급자, 고객이 있을 때, 세 테이블을 조인했을 때만 의미 있는 관계가 나타나며, 이를 각 테이블로 무손실 분해해야 함

(5NF는 일반적으로 복잡한 비즈니스 로직에서 나타나는 고급 사례입니다.)

## 4. 정규화 흐름 요약

```
원래 테이블 → 1정규형 → 2정규형 → 3정규형 → BCNF → 4정규형 → 5정규형
```

각 단계에서 테이블은 점점 더 중복이 줄고, 정리된 구조로 바뀝니다.
